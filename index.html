<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="./images/favicon.png" type="image/x-icon" />
    <link rel="shortcut icon" href="./images/favicon.png" type="image/x-icon" />

    <meta property="og:type" content="website" />
    <meta property="og:title" content="VuKhu" />
    <meta property="og:description" content="Nghe Nh·∫°c B·∫±ng M≈©i" />

    <title>VuDinhKhu|Music</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

<body>
    <!-- keep snow but disabled until user interaction to reduce work on load -->
    <div class="snow-container" id="snow-container" aria-hidden="true"></div>

    <div class="wrapper">
        <div class="top-bar">
            <div class="avatar-icon">
                <img src="./images/avt2.jpg" alt="Avatar"> </div>
            <span id="vietnam-time" class="time-display">00:00:00</span>

            <a href="https://t.me/ItsMeemo123" target="_blank" id="telegram-link" class="icon-link">
                <i class="material-icons" title="Li√™n h·ªá Telegram">send</i>
            </a>
        </div>

        <div class="img-area">
            <!-- lazy load main image to reduce initial load -->
            <img src="./images/placeholder.png" data-src="" alt="Music Card Image" loading="lazy" id="main-image">
        </div>
        <div class="song-details">
            <p class="name"></p>
            <p class="artist"></p>
        </div>

        <div class="progress-area">
            <div class="progress-bar">
                <!-- avoid full preloading of audio -->
                <audio id="main-audio" src="" preload="metadata"></audio>
            </div>
            <div class="song-timer">
                <span class="current-time">0:00</span>
                <span class="max-duration">0:00</span>
            </div>
        </div>

        <div class="controls">
            <i id="repeat-plist" class="material-icons" title="Playlist looped">repeat</i>
            <i id="prev" class="material-icons">skip_previous</i>
            <div class="play-pause">
                <i class="material-icons play">play_arrow</i>
            </div>
            <i id="next" class="material-icons">skip_next</i>
            <i id="more-music" class="material-icons">queue_music</i>
        </div>

        <div class="music-list-container">

            <div class="genre-list">
                <div class="header">
                    <div class="row">
                        <i class="list material-icons">widgets</i>
                        <span>Ch·ªçn Th·ªÉ Lo·∫°i Nh·∫°c üé∂</span>
                    </div>
                    <i id="close-genre" class="material-icons">close</i>
                </div>
                <ul id="genre-ul">
                </ul>
            </div>

            <div class="music-list">
                <div class="header">
                    <div class="row">
                        <i id="back-to-genre" class="material-icons">arrow_back</i>
                        <span id="current-genre-name">Music list</span>
                    </div>
                    <i id="close-music-list" class="material-icons">close</i>
                </div>
                <ul id="music-ul">
                </ul>
            </div>

        </div>
    </div>

    <footer class="footer">
        Designed by <a href="https://vukhuprofile.netlify.app/" target="">VuKhu</a>
    </footer>

    <!-- defer scripts so HTML paints first -->
    <script>
        // small inline helper: enable heavy animations and lazy image replacement only after first interaction
        (function() {
            function enableAfterInteraction() {
                // enable snow animation
                var snow = document.getElementById('snow-container');
                if (snow) snow.classList.add('enabled');

                // replace main image data-src if provided by script.js later
                var img = document.getElementById('main-image');
                if (img && img.dataset.src && !img.src.includes('placeholder')) {
                    img.src = img.dataset.src;
                }

                // remove this listener once done
                window.removeEventListener('click', enableAfterInteraction);
                window.removeEventListener('keydown', enableAfterInteraction);
            }
            window.addEventListener('click', enableAfterInteraction, {
                once: true
            });
            window.addEventListener('keydown', enableAfterInteraction, {
                once: true
            });
        })();
    </script>

    <script defer src="js/music-list.js"></script>
    <script defer src="js/script.js"></script>
</body>
</script>

<script defer src="js/snow-effect.js"></script>
<script defer src="js/music-list.js"></script>
<script defer src="js/script.js"></script>
</body>

</html>

</html>